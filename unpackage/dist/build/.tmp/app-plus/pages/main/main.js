(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/main"],{"0394":function(t,e,n){"use strict";n.r(e);var a=n("6747"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},"0a98":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("a34a")),o=n("2f62"),r=s(n("299b"));s(n("3d6d")),s(n("cbfe"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,a,i,o,r){try{var s=t[o](r),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(a,i)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var o=t.apply(e,n);function r(t){u(o,a,i,r,s,"next",t)}function s(t){u(o,a,i,r,s,"throw",t)}r(void 0)})}}var f=function(){return Promise.all([n.e("common/vendor"),n.e("pages/component/dashboard/dashboard")]).then(n.bind(null,"9dcc"))},l=function(){return n.e("components/uni-notice-bar/uni-notice-bar").then(n.bind(null,"7e29"))},d=new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六"),h=new Date,p={components:{uCharts:r.default,uniNoticeBar:l,dashBoard:f},data:function(){return{gDate:(new Date).Format("yyyy年MM月dd日 ")+d[h.getDay()],gTime:(new Date).Format(" hh:mm:ss"),NoticeList:[" 正在连接服务器.."," 正在连接服务器..."],modalName:null}},computed:(0,o.mapState)(["hasLogin","userInfo"]),onNavigationBarSearchInputConfirmed:function(t){this.hasLogin?this.$Router.push({path:"/pages/wtdcx/wtdcx",query:{filterText:t.text}}):this.$Router.push("/pages/login/login")},onNavigationBarButtonTap:function(e){if(this.hasLogin){var n=e.index;1===n&&t.scanCode({onlyFromCamera:!0,success:function(t){console.log(a("条码类型："+t.scanType," at pages\\main\\main.vue:74")),console.log(a("条码内容："+t.result," at pages\\main\\main.vue:75"))}}),2===n&&this.$Router.push("/pages/zhcx/zhcx");var i=getCurrentPages(),o=i[i.length-1],r=o.$getAppWebview();r.hideTitleNViewButtonRedDot({index:n})}else this.$Router.push("/pages/login/login")},methods:{test:function(){},GetHomeInfo:function(){return this.$store.state.latestData.HomeInfo},GetStats:function(){return this.$store.state.isConnected&&(this.NoticeList=this.$store.state.latestData.List),this.$store.state.latestData.stats},GetHomeData:function(){return this.$store.state.latestData.Data||[0,0,0,0,0,0,1,0,0]},GotoTest:function(){this.navTo("/pages/sign/sign")},GotoLogo:function(){this.hasLogin?this.$Router.push("/pages/user/userinfo"):this.$Router.push("/pages/login/login")},navTo:function(t){this.$Router.push(t)},doScan:function(){this.hasLogin?t.scanCode({onlyFromCamera:!0,success:function(t){console.log(a("条码类型："+t.scanType," at pages\\main\\main.vue:137")),console.log(a("条码内容："+t.result," at pages\\main\\main.vue:138"))}}):this.$Router.push("/pages/login/login")}},onLoad:function(){var t=c(i.default.mark(function t(e){var n,a,o=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=this.$mp.page.$getAppWebview(),n.setTitleNViewButtonStyle(0,{text:"",width:"35px",fontWeight:"bold",fontSize:"18px",background:"#0081FF"}),a=new plus.nativeObj.View("LogoImg",{top:"30px",left:"7px",height:"35px",width:"35px"},[{tag:"img",id:"img",src:"/static/img/logo.png",position:{top:"0px",left:"0px",width:"100%",height:"100%"}}]),a.show(),this.hasLogin||this.$Router.push("/pages/login/login"),this.timer=setInterval(function(){o.gTime=(new Date).Format(" hh:mm:ss")},500);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onShow:function(){if("android"===t.getSystemInfoSync().platform){var e=plus.nativeObj.View.getViewById("LogoImg");e&&setTimeout(function(){e.show(),plus.key.hideSoftKeybord()},100)}}};e.default=p}).call(this,n("6e42")["default"],n("0de9")["default"])},"0f58":function(t,e,n){"use strict";(function(t){n("d2ee"),n("921b");a(n("66fd"));var e=a(n("8d04"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"15e5":function(t,e,n){"use strict";var a=n("e022"),i=n.n(a);i.a},"1da3":function(t,e,n){"use strict";n.r(e);var a=n("1ff7"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},"1ff7":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("a34a")),o=n("2f62"),r=s(n("7e11"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,a,i,o,r){try{var s=t[o](r),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(a,i)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var o=t.apply(e,n);function r(t){u(o,a,i,r,s,"next",t)}function s(t){u(o,a,i,r,s,"throw",t)}r(void 0)})}}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={globalData:{userInfoid:""},computed:(0,o.mapState)(["hasLogin","userInfo"]),data:function(){return{UserName:""}},methods:f({},(0,o.mapMutations)(["login"]),{CheckNetworkStatus:function(){t.getNetworkType({success:function(e){"none"===e.networkType&&t.showToast({icon:"none",title:"没有网络!!!"})}})}}),onLaunch:function(){var e=c(i.default.mark(function e(){var n,o=this;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.CheckNetworkStatus(),t.getStorage({key:"userInfo",success:function(t){o.login(t.data),o.UserName=o.$store.state.userInfo.realname}}),e.next=4,this.$store.dispatch({type:"app/init"});case 4:n=e.sent,this.hasLogin&&(n&&setTimeout(function(){n.user&&(o.$store.state.user.readLastNoticeTime=n.user.readLastNoticeTime)},1e3),this.$signalR.connection(r.default.SignalR)),console.log(a("App Launch"," at App.vue:90")),plus.screen.lockOrientation("portrait-primary");case 8:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),onShow:function(){console.log(a("App Show"," at App.vue:126"))},onHide:function(){console.log(a("App Hide"," at App.vue:129"))},created:function(){console.log(a("App created"," at App.vue:133"))}};e.default=d}).call(this,n("6e42")["default"],n("0de9")["default"])},"24b5":function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a})},"299b":function(t,e,n){"use strict";n.r(e);var a=n("24b5"),i=n("0394");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("558a"),n("5f1f");var r,s=n("f0c5"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=u.exports},3678:function(t,e,n){},"45f9":function(t,e,n){"use strict";var a=n("3678"),i=n.n(a);i.a},"558a":function(t,e,n){"use strict";var a=n("61bf"),i=n.n(a);i.a},"5f19":function(t,e,n){},"5f1f":function(t,e,n){"use strict";var a=n("5f19"),i=n.n(a);i.a},"61bf":function(t,e,n){},6747:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i=s(n("a34a")),o=s(n("c80c")),r=s(n("7e11"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,a,i,o,r){try{var s=t[o](r),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(a,i)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var o=t.apply(e,n);function r(t){u(o,a,i,r,s,"next",t)}function s(t){u(o,a,i,r,s,"throw",t)}r(void 0)})}}var f={name:"ucharts",props:{percentage:[String,Number]},data:function(){return{cWidth:"",cHeight:"",pixelRatio:1,chartData:{date:"",categories:["1月","","3月","","5月","","7月","","9月","","11月",""],series:[{name:(new Date).DateAdd("y",-1).Format("yyyy")+"年",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{name:(new Date).Format("yyyy")+"年",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]}}},beforeCreate:function(){},created:function(){var e=c(i.default.mark(function e(){var n,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=this,this.cWidth=t.upx2px(750),this.cHeight=t.upx2px(450),n=t.getStorageSync("ChartsData"),!n){e.next=10;break}this.chartData.series[0].data=n.data1,this.chartData.series[1].data=n.data2,this.chartData.date=n.date,e.next=12;break;case 10:return e.next=12,a.getServerData();case 12:o={categories:[],series:[]},o.categories=this.chartData.categories,o.series=this.chartData.series,a.showColumn("canvasColumn",o);case 16:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),updated:function(){},methods:{getServerData:function(){var e=c(i.default.mark(function e(){var n,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.$moment().add(-7,"days").isBefore(this.$moment(this.chartData.date))){e.next=6;break}return e.next=4,this.$store.dispatch({type:"sjmx/GetStatsData"});case 4:n=e.sent,n&&""!=n&&(this.chartData.series[0].data=n[1],this.chartData.series[1].data=n[0],t.setStorage({key:"ChartsData",data:{date:new Date,data1:this.chartData.series[0].data,data2:this.chartData.series[1].data}}),o={categories:[],series:[]},o.categories=this.chartData.categories,o.series=this.chartData.series,a.showColumn("canvasColumn",o));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),r.default.isDevelopment&&t.showModal({content:"sjmx/GetStatsData 错误！"+e.t0});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function n(){return e.apply(this,arguments)}return n}(),showColumn:function(t,e){new o.default({$this:a,canvasId:t,type:"column",padding:[15,5,0,15],legend:{show:!0,padding:5,lineHeight:11,margin:0},fontSize:11,background:"#FFFFFF",pixelRatio:a.pixelRatio,animation:!0,categories:e.categories,series:e.series,xAxis:{disableGrid:!0},yAxis:{data:[{position:"left",axisLine:!0,format:function(t){return t.toFixed(0)+"台"}}]},dataLabel:!1,width:a.cWidth*a.pixelRatio,height:a.cHeight*a.pixelRatio,extra:{column:{type:"group",width:a.cWidth*a.pixelRatio*.45/e.categories.length}}})}},watch:{percentage:function(){Vue.nextTick().then(function(){a.getServerData()})}}};e.default=f}).call(this,n("6e42")["default"])},"7f28":function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.GetHomeData()),a=t.GetStats(),i=t.GetHomeInfo();t.$mp.data=Object.assign({},{$root:{m0:n,m1:a,m2:i}})},o=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a})},"8d04":function(t,e,n){"use strict";n.r(e);var a=n("7f28"),i=n("fbf4");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("45f9");var r,s=n("f0c5"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=u.exports},"93f8":function(t,e,n){"use strict";var a=n("c8d2"),i=n.n(a);i.a},c8d2:function(t,e,n){},cbfe:function(t,e,n){"use strict";n.r(e);var a=n("1da3");for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);n("93f8"),n("15e5");var o,r,s,u,c=n("f0c5"),f=Object(c["a"])(a["default"],o,r,!1,null,null,null,!1,s,u);e["default"]=f.exports},e022:function(t,e,n){},fbf4:function(t,e,n){"use strict";n.r(e);var a=n("0a98"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a}},[["0f58","common/runtime","common/vendor"]]]);