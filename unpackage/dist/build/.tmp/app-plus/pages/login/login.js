(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"49be":function(e,t,n){"use strict";var r=n("d6c2"),a=n.n(r);a.a},"4adf":function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return r})},8255:function(e,t,n){"use strict";n.r(t);var r=n("4adf"),a=n("8d60");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("49be");var i,s=n("f0c5"),u=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);t["default"]=u.exports},"8d60":function(e,t,n){"use strict";n.r(t);var r=n("dda8"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t["default"]=a.a},d6c2:function(e,t,n){},dda8:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("a34a")),a=(s(n("66fd")),n("2f62")),o=s(n("7e11")),i=s(n("903d"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,s,"next",e)}function s(e){u(o,r,a,i,s,"throw",e)}i(void 0)})}}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={data:function(){return{userNameOrEmailAddress:"user10",password:"123qwe",logining:!1,version:"1.01"}},onBackPress:function(){},onReady:function(){},onLoad:function(t){this.$store.state.hasLogin=!1,"android"===e.getSystemInfoSync().platform&&(this.version=plus.runtime.version)},methods:l({},(0,a.mapMutations)(["login"]),{navBack:function(){e.navigateBack()},toForgetPassword:function(){e.showToast({icon:"none",title:"请联系管理员重置密码!"})},toLogin:function(){var t=c(r.default.mark(function t(){var n,a,s,u,c,l;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.showLoading({title:"登录中..."}),!(this.userNameOrEmailAddress.length<5)){t.next=5;break}return e.showToast({icon:"none",title:"账号最短为 5 个字符"}),e.hideLoading(),t.abrupt("return");case 5:if(!(this.password.length<6)){t.next=9;break}return e.showToast({icon:"none",title:"密码最短为 6 个字符"}),e.hideLoading(),t.abrupt("return");case 9:return this.logining=!0,n={userNameOrEmailAddress:this.userNameOrEmailAddress,password:this.password,rememberMe:!0},t.next=13,this.$store.dispatch({type:"app/Login",data:n});case 13:a=t.sent,""!=a?(this.$store.state.user.readLastNoticeTime=a.lastReadNoticeTime,s="",u={id:a.userId,userName:this.userNameOrEmailAddress,realname:a.surName,roles:a.roles,roleNames:a.roleNames,portrait:null},c=this,e.downloadFile({url:o.default.avatarImgPath+a.userId+".png",success:function(t){s=t.tempFilePath,u.portrait=s,200===t.statusCode&&e.saveFile({tempFilePath:s,success:function(e){s=e.savedFilePath,u.portrait=s},complete:function(){c.login(u),c.$signalR.connection(o.default.SignalR),e.hideLoading(),e.switchTab({url:"/pages/main/main"})}})}}),l=new i.default.ShowHomeData,l.showData()):this.logining=!1;case 15:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()}),onShow:function(){if("android"===e.getSystemInfoSync().platform){var t=plus.nativeObj.View.getViewById("LogoImg");t&&setTimeout(function(){t.hide()},100)}}};t.default=f}).call(this,n("6e42")["default"])},de88:function(e,t,n){"use strict";(function(e){n("d2ee"),n("921b");r(n("66fd"));var t=r(n("8255"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])}},[["de88","common/runtime","common/vendor"]]]);